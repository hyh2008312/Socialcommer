<div class="md-padding-top-2 md-padding-left-2 md-padding-right-2 background-bg-white" >

  <div fxLayout="row" fxLayoutAlign="start stretch">
    <div class="xb-shop__products-left-bg">
      <div class="xb-shop__products-title-1">By Affiliate Channel:</div>
      <app-products-sort [(selectedSort)]="selectedSource" [sorts]="sources"
         (selectedSortChange)="onSelectedChange($event)"></app-products-sort>

      <div class="xb-shop__products-title-1 md-margin-top-3" *ngIf="categories.length>0">By Product Category:</div>
      <div fxLayout="column">
        <mat-checkbox class="md-margin-top-1" *ngFor="let category of categories;"
                      (change)="onCheckedChange(category,1)" [(ngModel)]="category.checked">
          {{ category.name }}
        </mat-checkbox>
      </div>
    </div>
    <div fxFlex>
      <div class="xb-shop__products-title" fxLayout="row" fxLayoutAlign="start center">
        <a routerLink="../products">Listings</a>&nbsp;&nbsp;>&nbsp;&nbsp;Search affiliate products
      </div>
      <div class="md-margin-top-3">
        <div fxLayout="row" fxLayoutAlign="start start" fxLayoutWrap>
          <div fxFlex>
            <div [hidden]="selectedChips.length <= 0">
              <mat-chip-list class="md-margin-bottom-4" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
                <mat-chip *ngFor="let sort of selectedChips" [selectable]="selectable" [removable]="removable" (remove)="remove(sort)">
                  {{sort.name}}
                  <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
            <div class="xb-shop__products-title-2" *ngIf="searchKey != '' && isSearch">
              <span class="xb-shop__products-search-result">{{length}}</span>
              {{length > 1? 'Results':'Result'}} for
              <span class="xb-shop__products-search-result">{{searchKey}}</span>
            </div>
          </div>
          <div fxLayout="row" fxLayoutAlign="start center">
            <form class="xb-shop__products-search" [formGroup]="searchForm"
                  fxLayout="row" fxLayoutAlign="start center" >
              <i class="material-icons">search</i>
              <input type="text" formControlName="searchKey" [(ngModel)]="searchKey" (keyup.enter)="getProductList(isSearch)"/>
              <div class="xb-shop__products-search-close" fxLayout="row" fxLayoutAlign="center center"
                   *ngIf="searchKey != ''" (click)="clearSearchKey()">
                <i class="material-icons">close</i>
              </div>
            </form>
          </div>
        </div>

      </div>
      <div class="xb-shop__product-none" fxLayout="row" fxLayoutAlign="center center"
           *ngIf="productList && productList.length <= 0">
        <div fxLayout="column" fxLayoutAlign="center center">
          <img src="https://media.socialcommer.com/source/web/pic/pic-none-01.png">
          <span class="md-dark-secondary">Please try again with different search keywords.</span>
        </div>
      </div>
      <div class="md-margin-top-3" fxLayout="row" fxLayoutAlign="start center" fxLayoutWrap fxLayoutGap="24px">
        <app-product-item-card *ngFor="let product of productList" [product]="product"></app-product-item-card>
      </div>
      <mat-paginator [length]="length"
                     [pageSize]="pageSize"
                     [pageSizeOptions]="pageSizeOptions"
                     (page)="changePage($event)"
                     *ngIf="productList && productList.length > 0">
      </mat-paginator>

    </div>
  </div>
</div>
<router-outlet></router-outlet>
